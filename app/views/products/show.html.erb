<div class="container-fluid">
  <div class="container-content">
    <h1 class="title"><%= @product.name %></h1>
    <%= render 'shared/banner-show-product' %>
    <p class="gold-text mb-1">Season: <%= @product.season_start_month %> - <%= @product.season_end_month %></p>
    <p><%= @product.content %></p>
    <ul>
      <li><i class="fas fa-seedling info"></i><%= @product.fact1.capitalize %></li>
      <li><i class="fas fa-seedling info"></i><%= @product.fact2.capitalize %></li>
      <li><i class="fas fa-seedling info"></i><%= @product.fact3.capitalize %></li>
    </ul>
    <h2 class="title">Local Producers</h2>
    <% if @producers == [] %>
      <div class="alert-warning" role="alert">There are no producers for this product close to your location.</div>
    <% else %>

      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item active">
          <a class="nav-link" id="list-tab" data-toggle="tab" href="#list" role="tab" aria-controls="list" aria-selected="true">List</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="maps-tab" data-toggle="tab" href="#maps" role="tab" aria-controls="maps" aria-selected="false">Map</a>
        </li>
      </ul>

      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade " id="list" role="tabpanel" aria-labelledby="list-tab">
          <div class="row mx-0 my-3">
            <%= render partial: 'shared/producer-card', collection: @producers, as: :producer, locals: { to_delete: false }%>
          </div>
        </div>
        <div class="tab-pane fade show active my-0" id="maps" role="tabpanel" aria-labelledby="maps-tab">
          <div
            id="map"
            style="
            height: 400px; overflow: hidden"
            data-markers="<%= @markers.to_json %>"
            data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
          ></div>
        </div>
      </div>
    <% end %>
  </div>
</div>


